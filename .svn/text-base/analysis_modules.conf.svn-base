#@description A sample list of setups
#@key_label   "name"
#@meta_label  "type"

[name="analysis_chain" type="dpp::chain_module"]

#@description Logging priority
logging.priority : string = "warning"

#@description The list of processing modules to be applied (in this order)
modules : string[6] = \
  "io_output_particle_track_selected" \
  "remove_simulated_data" \
  "remove_calibrated_data" \
  "remove_tracker_clustering_data" \
  "remove_tracker_trajectory_data" \
  "io_output_analysed"

[name="process_with_particle_track_cuts" type="dpp::if_module"]

#@description Logging priority
logging.priority : string = "warning"

#@description The label/name of the cut service
cut_service.label : string = "Cuts"

#@description The name of the condition cut
condition_cut : string = "particle_track_cut"

#@description The name of the module to be processed when condition is checked
then_module : string = "io_output_particle_track_selected"

#@description The name of the module to be processed when condition is NOT checked
else_module : string = "io_output_particle_track_non_selected"

[name="process_with_matching_y_vertices_cuts" type="dpp::if_module"]

#@description Logging priority
logging.priority : string = "warning"

#@description The label/name of the cut service
cut_service.label : string = "Cuts"

#@description The name of the condition cut
condition_cut : string = "matching_y_vertices"

#@description The name of the module to be processed when condition is checked
then_module : string = "io_output_matching_y_vertices_selected"

#@description The name of the module to be processed when condition is NOT checked
else_module : string = "io_output_matching_y_vertices_non_selected"

[name="process_with_matching_z_vertices_cuts" type="dpp::if_module"]

#@description Logging priority
logging.priority : string = "warning"

#@description The label/name of the cut service
cut_service.label : string = "Cuts"

#@description The name of the condition cut
condition_cut : string = "matching_z_vertices"

#@description The name of the module to be processed when condition is checked
then_module : string = "io_output_matching_z_vertices_selected"

#@description The name of the module to be processed when condition is NOT checked
else_module : string = "io_output_matching_z_vertices_non_selected"

[name="matching_vertices_module" type="snemo::analysis::processing::matching_vertices_module"]

#@description A SuperNEMO module to compute the two tracks vertices difference on the source foil

#@description Logging priority
logging.priority : string = "warning"

#@description The Histogram Service label
Histo_label : string = "Histo"

#@description The ouput file where to store the histograms
Histo_output_files : string[2] as path =                       \
    "/tmp/${USER}/snemo.d/snemo_matching_vertices_study.root" \
    "/tmp/${USER}/snemo.d/snemo_matching_vertices_study.xml"

#@description The ouput file where to store the histograms
Histo_template_files : string[1] as path = \
    "$SW_WORK_DIR/snanalysis.mine/resources/setups/snemo/processing/histo_template.conf"

[name="matching_vertices_chain" type="dpp::chain_module"]

#@description Logging priority
logging.priority : string = "warning"

#@description The list of processing modules to be applied (in this order)
modules : string[3] = \
        "matching_vertices_module" \
        "process_with_matching_y_vertices_cuts" \
        "process_with_matching_z_vertices_cuts"

[name="tof_computing_module" type="snemo::analysis::processing::tof_computing_module"]

#@description A SuperNEMO module to calculate the 0nu sensitivity

#@description Logging priority
logging.priority : string = "warning"

[name="process_with_particle_tof_cuts" type="dpp::if_module"]

#@description Logging priority
logging.priority : string = "warning"

#@description The label/name of the cut service
cut_service.label : string = "Cuts"

#@description The name of the condition cut
condition_cut : string = "tof_selection"

#@description The name of the module to be processed when condition is checked
then_module : string = "io_output_tof_selected"

#@description The name of the module to be processed when condition is NOT checked
else_module : string = "io_output_tof_non_selected"

[name="particle_tof_chain" type="dpp::chain_module"]

#@description Logging priority
logging.priority : string = "warning"

#@description The list of processing modules to be applied (in this order)
modules : string[2] = \
        "tof_computing_module" \
        "process_with_particle_tof_cuts"
        "io_output_tof_selected"

[name="particle_tracking_chain" type="dpp::chain_module"]

#@description Logging priority
logging.priority : string = "warning"

#@description The list of processing modules to be applied (in this order)
modules : string[4] = \
  "remove_particle_track_data" \
  "charged_particle_tracking" \
  "io_output_particle_track" \
  "process_with_particle_track_cuts"

[name="process_with_fitting_cuts" type="dpp::if_module"]

#@description Logging priority
logging.priority : string = "warning"

#@description The label/name of the cut service
cut_service.label : string = "Cuts"


#@description The name of the condition cut
condition_cut : string = "tracker_trajectory_cut"

#@description The name of the module to be processed when condition is checked
then_module : string = "particle_tracking_chain"

#@description The name of the module to be processed when condition is NOT checked
else_module : string = "io_output_tracker_trajectory_non_selected"

[name="fitting_chain" type="dpp::chain_module"]

#@description Logging priority
logging.priority : string = "warning"

#@description The list of processing modules to be applied (in this order)
modules : string[4] = \
  "remove_tracker_trajectory_data" \
  "trackfit_tracker_fitting" \
  "io_output_tracker_trajectory" \
  "process_with_fitting_cuts"

[name="process_with_clustering_cuts" type="dpp::if_module"]

#@description Logging priority
logging.priority : string = "warning"

#@description The label/name of the cut service
cut_service.label : string = "Cuts"

#@description The name of the condition cut
condition_cut : string = "tracker_clustering_cut"

#@description The name of the module to be processed when condition is checked
then_module : string = "fitting_chain"

#@description The name of the module to be processed when condition is NOT checked
else_module : string = "io_output_tracker_clustering_non_selected"

[name="clustering_chain" type="dpp::chain_module"]

#@description Logging priority
logging.priority : string = "warning"

# #@description The list of processing modules to be applied (in this order)
# modules : string[4] = \
#   "remove_tracker_clustering_data" \
#   "cat_tracker_clustering" \
#   "io_output_tracker_clustering" \
#   "process_with_clustering_cuts"

#@description The list of processing modules to be applied (in this order)
modules : string[4] = \
  "remove_tracker_clustering_data" \
  "cat_tracker_clustering" \
  "io_output_tracker_clustering" \
  "process_with_clustering_cuts"

[name="process_with_calibrated_cuts" type="dpp::if_module"]

#@description Logging priority
logging.priority : string = "warning"

#@description The label/name of the cut service
cut_service.label : string = "Cuts"

#@description The name of the condition cut
condition_cut : string = "calibrated_cut"

#@description The name of the module to be processed when condition is checked
then_module : string = "clustering_chain"

#@description The name of the module to be processed when condition is NOT checked
else_module : string = "io_output_calibrated_non_selected"

[name="calibration_chain" type="dpp::chain_module"]

#@description Logging priority
logging.priority : string = "warning"

#@description The list of processing modules to be applied (in this order)
modules : string[4] = \
  "add_header" \
  "tracker_s2c" \
  "calorimeter_s2c" \
  "io_output_calibrated"

[name="simulation_chain" type="dpp::chain_module"]

#@description Logging priority
logging.priority : string = "warning"

#@description The list of processing modules to be applied (in this order)
modules : string[2] = \
  "simulation" \
  "io_output_simulated"

[name="full_chain" type="dpp::chain_module"]

#@description Logging priority
logging.priority : string = "warning"

#@description The list of processing modules to be applied (in this order)
modules : string[3] = \
  "simulation_chain" \
  "calibration_chain" \
  "process_with_calibrated_cuts"

[name="minimum_bias_chain" type="dpp::chain_module"]

#@description Logging priority
logging.priority : string = "warning"

#@description The list of processing modules to be applied (in this order)
modules : string[5] = \
  "simulation_chain" \
  "calibration_chain" \
  "clustering_chain" \
  "fitting_chain" \
  "particle_tracking_chain"

[name="reformat_data" type="dpp::chain_module"]

#@description Logging priority
logging.priority : string = "warning"

#@description The list of processing modules to be applied (in this order)
modules : string[7] = \
  "remove_header" \
  "add_header" \
  "remove_mc_visu_hits" \
  "remove_simulated_data" \
  "remove_calibrated_data" \
  "remove_tracker_clustering_data" \
  "remove_tracker_trajectory_data"
