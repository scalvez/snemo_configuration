#@description A sample list of setups
#@key_label   "name"
#@meta_label  "type"

[name="topology_module" type="snemo::reconstruction::topology_module"]

#@description Logging priority
logging.priority : string = @variant(core:logging_priority|"warning")

# #@description Geometry service
# Geo_label : string = "Geo"

#@description The label of the Cut service
Cut_label : string  = "Cuts"

#@description The label of the input 'Particle Track Data' bank
PTD_label : string  = "PTD"

#@description The label of the input 'Topology Data' bank
TD_label : string  = "TD"

#@description Logging priority
PID.logging.priority : string = @variant(core:logging_priority|"warning")

#@description The PID mode
PID.mode.label : boolean = true

#@description The list of particle identification definition
PID.definitions : string[4] = "electron_definition" \
                              "gamma_definition" \
                              "positron_definition" \
                              "alpha_definition"

#@description The label associated to 'electron' definition
PID.electron_definition.label : string = "electron"

#@description The label associated to 'gamma' definition
PID.gamma_definition.label : string = "gamma"

#@description The label associated to 'positron' definition
PID.positron_definition.label : string = "positron"

#@description The label associated to 'alpha' definition
PID.alpha_definition.label : string = "alpha"

#@description List of drivers to be used (see description below)
drivers : string[4] = "TOFD" "VD" "AD" "ED"

#@description Topology Driver logging priority
TOFD.logging.priority : string = @variant(core:logging_priority|"warning")

#@description Topology Driver logging priority
VD.logging.priority : string = @variant(core:logging_priority|"warning")

#@description Topology Driver logging priority
AD.logging.priority : string = @variant(core:logging_priority|"warning")

#@description Topology Driver logging priority
ED.logging.priority : string = @variant(core:logging_priority|"warning")

[name="io_output_unassociated_calos_topology_selected" type="dpp::output_module"]

#@description Logging priority
logging.priority : string = @variant(core:logging_priority|"warning")

#@description Output file mode
files.mode : string = "single"

#@description Path to output data file
files.single.filename : string as path = "/tmp/calvez/snemo.d/io_output_unassociated_calos_topology_selected.brio"

#@description The label of the Context service
Ctx_label : string  = "Ctx"

[name="io_output_unassociated_calos_topology_non_selected" type="dpp::output_module"]

#@description Logging priority
logging.priority : string = @variant(core:logging_priority|"warning")

#@description Output file mode
files.mode : string = "single"

#@description Path to output data file
files.single.filename : string as path = "/tmp/calvez/snemo.d/io_output_unassociated_calos_topology_non_selected.brio"

#@description The label of the Context service
Ctx_label : string  = "Ctx"

[name="process_unassociated_calos_topology_cut" type="dpp::if_module"]

#@description Logging priority
logging.priority : string = @variant(core:logging_priority|"warning")

#@description The label/name of the cut service
cut_service.label : string = "Cuts"

#@description The name of the condition cut
condition_cut : string = "unassociated_calos_topology_cut"

#@description The name of the module to be processed when condition is checked
then_module : string = "io_output_unassociated_calos_topology_selected"

#@description The name of the module to be processed when condition is NOT checked
else_module : string = "io_output_unassociated_calos_topology_non_selected"

[name="process_tof_and_delta_cut" type="dpp::if_module"]

#@description Logging priority
logging.priority : string = @variant(core:logging_priority|"warning")

#@description The label/name of the cut service
cut_service.label : string = "Cuts"

#@description The name of the condition cut
condition_cut : string = "tof_and_delta_cut"

#@description The name of the module to be processed when condition is checked
then_module : string = "io_output_topology_selected"

#@description The name of the module to be processed when condition is NOT checked
else_module : string = "io_output_topology_non_selected"

[name="process_internal_probability" type="dpp::if_module"]

#@description Logging priority
logging.priority : string = @variant(core:logging_priority|"warning")

#@description The label/name of the cut service
cut_service.label : string = "Cuts"

#@description The name of the condition cut
condition_cut : string = "2e_internal_probability_cut"

#@description The name of the module to be processed when condition is checked
then_module : string = "io_output_topology_selected"

#@description The name of the module to be processed when condition is NOT checked
else_module : string = "io_output_topology_non_selected"

[name="io_output_2e_topology_selected" type="dpp::output_module"]

#@description Logging priority
logging.priority : string = @variant(core:logging_priority|"warning")

#@description Output file mode
files.mode : string = "single"

#@description Path to output data file
files.single.filename : string as path = "/tmp/calvez/snemo.d/io_output_2e_topology_selected.brio"

#@description The label of the Context service
Ctx_label : string  = "Ctx"

[name="io_output_2e_topology_non_selected" type="dpp::output_module"]

#@description Logging priority
logging.priority : string = @variant(core:logging_priority|"warning")

#@description Output file mode
files.mode : string = "single"

#@description Path to output data file
files.single.filename : string as path = "/tmp/calvez/snemo.d/io_output_2e_topology_non_selected.brio"

#@description The label of the Context service
Ctx_label : string  = "Ctx"

[name="process_2e_topology_cut" type="dpp::if_module"]

#@description Logging priority
logging.priority : string = @variant(core:logging_priority|"warning")

#@description The label/name of the cut service
cut_service.label : string = "Cuts"

#@description The name of the condition cut
condition_cut : string = "2e_topology_cut"

#@description The name of the module to be processed when condition is checked
then_module : string = "io_output_2e_topology_selected"

#@description The name of the module to be processed when condition is NOT checked
else_module : string = "io_output_2e_topology_non_selected"

[name="io_output_1e_topology_selected" type="dpp::output_module"]

#@description Logging priority
logging.priority : string = @variant(core:logging_priority|"warning")

#@description Output file mode
files.mode : string = "single"

#@description Path to output data file
files.single.filename : string as path = "/tmp/calvez/snemo.d/io_output_1e_topology_selected.brio"

#@description The label of the Context service
Ctx_label : string  = "Ctx"

[name="io_output_1e_topology_non_selected" type="dpp::output_module"]

#@description Logging priority
logging.priority : string = @variant(core:logging_priority|"warning")

#@description Output file mode
files.mode : string = "single"

#@description Path to output data file
files.single.filename : string as path = "/tmp/calvez/snemo.d/io_output_1e_topology_non_selected.brio"

#@description The label of the Context service
Ctx_label : string  = "Ctx"

[name="process_1e_topology_cut" type="dpp::if_module"]

#@description Logging priority
logging.priority : string = @variant(core:logging_priority|"warning")

#@description The label/name of the cut service
cut_service.label : string = "Cuts"

#@description The name of the condition cut
condition_cut : string = "1e_topology_cut"

#@description The name of the module to be processed when condition is checked
then_module : string = "io_output_1e_topology_selected"

#@description The name of the module to be processed when condition is NOT checked
else_module : string = "io_output_1e_topology_non_selected"

[name="io_output_1e1g_topology_selected" type="dpp::output_module"]

#@description Logging priority
logging.priority : string = @variant(core:logging_priority|"warning")

#@description Output file mode
files.mode : string = "single"

#@description Path to output data file
files.single.filename : string as path = "/tmp/calvez/snemo.d/io_output_1e1g_topology_selected.brio"

#@description The label of the Context service
Ctx_label : string  = "Ctx"

[name="io_output_1e1g_topology_non_selected" type="dpp::output_module"]

#@description Logging priority
logging.priority : string = @variant(core:logging_priority|"warning")

#@description Output file mode
files.mode : string = "single"

#@description Path to output data file
files.single.filename : string as path = "/tmp/calvez/snemo.d/io_output_1e1g_topology_non_selected.brio"

#@description The label of the Context service
Ctx_label : string  = "Ctx"

[name="process_1e1g_topology_cut" type="dpp::if_module"]

#@description Logging priority
logging.priority : string = @variant(core:logging_priority|"warning")

#@description The label/name of the cut service
cut_service.label : string = "Cuts"

#@description The name of the condition cut
condition_cut : string = "1e1g_topology_cut"

#@description The name of the module to be processed when condition is checked
then_module : string = "io_output_1e1g_topology_selected"

#@description The name of the module to be processed when condition is NOT checked
else_module : string = "io_output_1e1g_topology_non_selected"

# [name="topology_chain" type="dpp::chain_module"]

# #@description Logging priority
# logging.priority : string = @variant(core:logging_priority|"warning")

# #@description The list of processing modules to be applied (in this order)
# modules : string[4] = \
# "minimum_bias_chain" \
# "process_2e_topology_cut" \
# "process_1e_topology_cut" \
# "process_1e1g_topology_cut"

[name="2e_topology_chain" type="dpp::chain_module"]

#@description Logging priority
logging.priority : string = @variant(core:logging_priority|"warning")

#@description The list of processing modules to be applied (in this order)
modules : string[2] = \
"minimum_bias_chain" \
"process_2e_topology_cut"